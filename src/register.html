<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Register ‚Äî Brew & Co</title>
    <meta name="description" content="Create your Brew & Co account to save favorites, track orders, and get special offers.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Registration specific styles */
        .registration-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--cream) 0%, var(--beige) 100%);
            padding: 40px 20px;
        }

        .registration-container {
            width: 100%;
            max-width: 500px;
        }

        .registration-card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 50px;
            box-shadow: 0 25px 60px var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .registration-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--gold), var(--coffee-light));
        }

        .registration-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .registration-logo {
            width: 80px;
            height: 80px;
            border-radius: var(--radius-md);
            background: linear-gradient(135deg, var(--coffee-medium), var(--coffee-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: var(--cream);
            font-size: 28px;
            box-shadow: 0 4px 15px var(--shadow);
        }

        .registration-header h1 {
            font-size: 32px;
            color: var(--coffee-dark);
            margin-bottom: 10px;
        }

        .registration-header p {
            color: var(--muted);
            font-size: 16px;
        }

        .registration-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .password-strength {
            margin-top: 5px;
            height: 4px;
            background: #eee;
            border-radius: 2px;
            overflow: hidden;
        }

        .strength-meter {
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .strength-weak { background: #EF4444; width: 33%; }
        .strength-medium { background: #F59E0B; width: 66%; }
        .strength-strong { background: #10B981; width: 100%; }

        .terms-agreement {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 14px;
            color: var(--muted);
            margin-top: 10px;
        }

        .terms-agreement a {
            color: var(--coffee-medium);
            text-decoration: none;
        }

        .terms-agreement a:hover {
            text-decoration: underline;
        }

        .form-footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .form-footer a {
            color: var(--coffee-medium);
            font-weight: 600;
            text-decoration: none;
        }

        .form-footer a:hover {
            text-decoration: underline;
        }

        /* Cart restore notice */
        .cart-restore-notice {
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
            border-left: 4px solid #3498db;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            display: none;
        }

        .cart-restore-notice.show {
            display: block;
        }

        .cart-restore-notice i {
            color: #3498db;
            margin-right: 10px;
        }

        /* Login link in header */
        .login-prompt {
            margin-top: 15px;
            font-size: 14px;
        }

        .login-prompt a {
            color: var(--coffee-medium);
            font-weight: 600;
            text-decoration: none;
        }

        @media (max-width: 768px) {
            .registration-card {
                padding: 30px;
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .registration-card {
                padding: 25px;
            }

            .registration-header h1 {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
<div class="registration-page">
    <div class="container registration-container">
        <div class="registration-card">
            <div class="registration-header">
                <div class="registration-logo">B&amp;Co</div>
                <h1>Create Account</h1>
                <p>Join Brew & Co to save favorites and track orders</p>

                <!-- Cart restore notice (hidden by default) -->
                <div class="cart-restore-notice" id="cartRestoreNotice">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Your cart items will be restored after registration.</span>
                </div>
            </div>

            <form class="registration-form" id="registrationForm">
                <div class="form-row">
                    <div class="input-group">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" placeholder="John">
                        <div class="error-message" id="firstNameError"></div>
                    </div>

                    <div class="input-group">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" placeholder="Doe">
                        <div class="error-message" id="lastNameError"></div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="username">Username *</label>
                    <input type="text" id="username" required placeholder="johndoe">
                    <small style="color: #666; font-size: 12px;">This will be your login name</small>
                    <div class="error-message" id="usernameError"></div>
                </div>

                <div class="input-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" required placeholder="john@example.com">
                    <div class="error-message" id="emailError"></div>
                </div>

                <div class="input-group">
                    <label for="password">Password *</label>
                    <input type="password" id="password" required>
                    <div class="password-strength">
                        <div class="strength-meter" id="passwordStrength"></div>
                    </div>
                    <small style="color: #666; font-size: 12px;">Minimum 6 characters</small>
                    <div class="error-message" id="passwordError"></div>
                </div>

                <div class="input-group">
                    <label for="confirmPassword">Confirm Password *</label>
                    <input type="password" id="confirmPassword" required>
                    <div class="error-message" id="confirmError"></div>
                </div>

                <div class="input-group">
                    <label for="phone">Phone Number (optional)</label>
                    <input type="tel" id="phone" placeholder="+1 (555) 123-4567">
                    <small style="color: #666; font-size: 12px;">For order notifications</small>
                    <div class="error-message" id="phoneError"></div>
                </div>

                <div class="terms-agreement">
                    <input type="checkbox" id="terms" required>
                    <label for="terms">
                        I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a> *
                    </label>
                    <div class="error-message" id="termsError"></div>
                </div>

                <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>

                <div class="form-footer">
                    Already have an account? <a href="login.html" id="loginLink">Sign In</a>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="js/main.js"></script>
<script src="js/auth.js"></script> <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º auth.js -->
<script>
    // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
    let redirectUrl = '';
    let savedCartData = null;
    let hasCartItems = false;

    // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï ==========
    document.addEventListener('DOMContentLoaded', function() {
        // –ó–∞–≥—Ä—É–∂–∞–µ–º auth.js –µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
        if (!window.auth) {
            console.warn('auth.js not loaded, trying to load manually...');
            loadScript('js/auth.js', initRegistration);
        } else {
            initRegistration();
        }
    });

    // ========== –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò ==========
    function initRegistration() {
        const form = document.getElementById('registrationForm');
        const passwordInput = document.getElementById('password');
        const passwordStrength = document.getElementById('passwordStrength');
        const cartNotice = document.getElementById('cartRestoreNotice');
        const loginLink = document.getElementById('loginLink');

        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL
        parseUrlParameters();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫–æ—Ä–∑–∏–Ω–µ –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã
        if (hasCartItems && cartNotice) {
            cartNotice.classList.add('show');

            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "View Cart"
            const viewCartBtn = document.createElement('button');
            viewCartBtn.innerHTML = '<i class="fas fa-eye"></i> View Cart';
            viewCartBtn.style.cssText = `
                margin-left: 10px;
                padding: 4px 10px;
                background: #3498db;
                color: white;
                border: none;
                border-radius: 4px;
                font-size: 12px;
                cursor: pointer;
            `;
            viewCartBtn.onclick = showCartPreview;
            cartNotice.appendChild(viewCartBtn);
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Å—ã–ª–∫—É –ª–æ–≥–∏–Ω–∞ —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
        if (loginLink && redirectUrl) {
            loginLink.href = 'login.html?redirect=' + encodeURIComponent(redirectUrl) +
                            (savedCartData ? '&cart=' + encodeURIComponent(savedCartData) : '');
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        if (form) {
            form.addEventListener('submit', async function(e) {
                e.preventDefault();

                // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º—ã
                const firstName = document.getElementById('firstName').value.trim();
                const lastName = document.getElementById('lastName').value.trim();
                const username = document.getElementById('username').value.trim();
                const email = document.getElementById('email').value.trim();
                const password = passwordInput.value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                const phone = document.getElementById('phone').value.trim();
                const terms = document.getElementById('terms').checked;

                // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏
                clearErrors();

                let isValid = true;

                // –í–∞–ª–∏–¥–∞—Ü–∏—è username
                if (username.length < 3) {
                    showError('usernameError', 'Username must be at least 3 characters');
                    isValid = false;
                }

                // –í–∞–ª–∏–¥–∞—Ü–∏—è email
                if (!isValidEmail(email)) {
                    showError('emailError', 'Please enter a valid email address');
                    isValid = false;
                }

                // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
                if (password.length < 6) {
                    showError('passwordError', 'Password must be at least 6 characters');
                    isValid = false;
                }

                // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
                if (password !== confirmPassword) {
                    showError('confirmError', 'Passwords do not match');
                    isValid = false;
                }

                // –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–∏—è
                if (!terms) {
                    showError('termsError', 'You must agree to the terms and conditions');
                    isValid = false;
                }

                if (isValid) {
                    await submitRegistration({
                        firstName,
                        lastName,
                        username,
                        email,
                        password,
                        phone
                    });
                }
            });
        }

        // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
        if (passwordInput && passwordStrength) {
            passwordInput.addEventListener('input', function() {
                updatePasswordStrength(this.value);
            });
        }
    }

    // ========== –§–£–ù–ö–¶–ò–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò ==========
    async function submitRegistration(userData) {
        const form = document.getElementById('registrationForm');
        const submitBtn = form.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;

        try {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
            submitBtn.disabled = true;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∂–µ–Ω –ª–∏ auth.js
            if (!window.auth || typeof window.auth.register !== 'function') {
                throw new Error('Authentication system not loaded. Please refresh the page.');
            }

            // ‚ö†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–µ—Ä–µ–¥–∞–µ–º —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ, auth.js —Å–∞–º –∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç
            // –ù–ï —Å–æ–∑–¥–∞–µ–º full_name –∑–¥–µ—Å—å - —ç—Ç–æ –¥–µ–ª–∞–µ—Ç auth.js
            const result = await window.auth.register({
                firstName: userData.firstName,
                lastName: userData.lastName,
                username: userData.username,
                email: userData.email,
                password: userData.password,
                phone: userData.phone
            });

            if (result.success) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
                if (typeof showToast === 'function') {
                    showToast('Account created successfully!', 'success');
                }

                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –µ—Å–ª–∏ –µ—Å—Ç—å
                if (savedCartData) {
                    try {
                        localStorage.setItem('brewAndCoCart', savedCartData);
                        if (typeof showToast === 'function') {
                            showToast('Your cart has been restored', 'info');
                        }
                    } catch (e) {
                        console.error('Failed to restore cart:', e);
                    }
                }

                // –†–µ–¥–∏—Ä–µ–∫—Ç
                setTimeout(() => {
                    if (redirectUrl) {
                        window.location.href = redirectUrl;
                    } else {
                        window.location.href = 'index.html';
                    }
                }, 2000);

            } else {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —Å–µ—Ä–≤–µ—Ä–∞
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;

                if (result.error) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—à–∏–±–∫—É
                    if (typeof showToast === 'function') {
                        showToast('Registration failed: ' + result.error, 'error');
                    }

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—è
                    const errorLower = result.error.toLowerCase();
                    if (errorLower.includes('username')) {
                        showError('usernameError', result.error);
                    } else if (errorLower.includes('email')) {
                        showError('emailError', result.error);
                    } else if (errorLower.includes('password')) {
                        showError('passwordError', result.error);
                    } else if (errorLower.includes('already exists') || errorLower.includes('duplicate')) {
                        showError('emailError', 'This email or username is already registered');
                    } else {
                        showError('usernameError', 'Registration failed: ' + result.error);
                    }
                }
            }

        } catch (error) {
            console.error('Registration error:', error);

            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;

            if (typeof showToast === 'function') {
                showToast('Registration failed. Please try again.', 'error');
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–µ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
            if (error.message.includes('fetch') || error.message.includes('network') || error.message.includes('Failed to fetch')) {
                showError('emailError', 'Cannot connect to server. Please check if backend is running on localhost:5000');
            }
        }
    }

    // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========

    // –ü–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ URL
    function parseUrlParameters() {
        const urlParams = new URLSearchParams(window.location.search);
        redirectUrl = urlParams.get('redirect') || '';
        const cartParam = urlParams.get('cart');

        if (cartParam) {
            try {
                savedCartData = decodeURIComponent(cartParam);
                const cartItems = JSON.parse(savedCartData);
                hasCartItems = Array.isArray(cartItems) && cartItems.length > 0;
            } catch (e) {
                console.error('Failed to parse cart data:', e);
                savedCartData = null;
                hasCartItems = false;
            }
        }
    }

    // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—Ä–∑–∏–Ω—ã
    function showCartPreview() {
        if (!savedCartData) return;

        try {
            const cartItems = JSON.parse(savedCartData);
            const itemCount = cartItems.reduce((total, item) => total + (item.quantity || 1), 0);
            const totalAmount = cartItems.reduce((total, item) => total + (item.price * (item.quantity || 1)), 0);

            alert(`üõí Your Cart Preview:\n\n` +
                  `Items: ${itemCount}\n` +
                  `Total: $${totalAmount.toFixed(2)}\n\n` +
                  `These items will be restored after registration.`);
        } catch (e) {
            console.error('Error showing cart preview:', e);
        }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
    function updatePasswordStrength(password) {
        const strengthElement = document.getElementById('passwordStrength');
        if (!strengthElement) return;

        let strength = 'weak';
        let score = 0;

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
        if (password.length >= 6) score++;
        if (password.length >= 10) score++;

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        if (/[A-Z]/.test(password)) score++;
        if (/[0-9]/.test(password)) score++;
        if (/[^A-Za-z0-9]/.test(password)) score++;

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å
        if (score >= 4) strength = 'strong';
        else if (score >= 2) strength = 'medium';
        else strength = 'weak';

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        strengthElement.className = 'strength-meter';
        strengthElement.classList.add(`strength-${strength}`);
    }

    // –í–∞–ª–∏–¥–∞—Ü–∏—è email
    function isValidEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
    function showError(elementId, message) {
        const element = document.getElementById(elementId);
        if (element) {
            element.textContent = message;
            element.style.display = 'block';
        }
    }

    // –û—á–∏—Å—Ç–∏—Ç—å –æ—à–∏–±–∫–∏
    function clearErrors() {
        const errorElements = document.querySelectorAll('.error-message');
        errorElements.forEach(element => {
            element.textContent = '';
            element.style.display = 'none';
        });
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞
    function loadScript(src, callback) {
        const script = document.createElement('script');
        script.src = src;
        script.onload = callback;
        script.onerror = function() {
            console.error('Failed to load script:', src);
            if (typeof showToast === 'function') {
                showToast('Error loading authentication system', 'error');
            }
        };
        document.head.appendChild(script);
    }

    // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ username –∏–∑ email
    document.getElementById('email')?.addEventListener('blur', function() {
        const email = this.value.trim();
        const usernameField = document.getElementById('username');

        if (email && (!usernameField.value || usernameField.value === '')) {
            // –ò–∑–≤–ª–µ–∫–∞–µ–º username –∏–∑ email (—á–∞—Å—Ç—å –¥–æ @)
            const username = email.split('@')[0];
            if (username.length >= 3) {
                usernameField.value = username.toLowerCase().replace(/[^a-z0-9]/g, '');
            }
        }
    });

    // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ full name –µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω—ã –æ–±–∞ –∏–º–µ–Ω–∏
    document.getElementById('firstName')?.addEventListener('blur', updateFullName);
    document.getElementById('lastName')?.addEventListener('blur', updateFullName);

    function updateFullName() {
        const firstName = document.getElementById('firstName')?.value.trim() || '';
        const lastName = document.getElementById('lastName')?.value.trim() || '';

        // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π
        if (firstName && lastName) {
            console.log('Full name would be:', `${firstName} ${lastName}`);
        }
    }

    // ========== –¢–ï–°–¢–û–í–´–ï –§–£–ù–ö–¶–ò–ò (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) ==========

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
    async function testBackendConnection() {
        try {
            const response = await fetch('http://localhost:5000/api/health');
            if (response.ok) {
                console.log('‚úÖ Backend is running');
                return true;
            }
        } catch (error) {
            console.error('‚ùå Backend is not running:', error.message);
            return false;
        }
    }

    // –ê–≤—Ç–æ—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
    // window.addEventListener('load', async () => {
    //     const isBackendRunning = await testBackendConnection();
    //     if (!isBackendRunning) {
    //         alert('‚ö†Ô∏è Backend server is not running!\n\nPlease start the backend:\n1. Open terminal\n2. cd backend\n3. npm run dev\n\nThen refresh this page.');
    //     }
    // });
</script>
</body>
</html>